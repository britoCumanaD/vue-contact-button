(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d.VueContactButton={},d.Vue))})(this,function(d,e){"use strict";const u=e.defineComponent({__name:"FloatText",props:{text:{type:String,required:!0},mainColor:{type:String,default:"#00258b"},secondaryColor:{type:String,default:"#ffffff"},isDarkMode:{type:Boolean,default:!1}},setup(t){const r=t,a=e.ref(!1),s=`float-text-dismissed-${r.text}`,n=e.computed(()=>({background:r.isDarkMode?"rgba(255, 255, 255, 0.1)":r.mainColor,color:r.isDarkMode?"#ffffff":r.secondaryColor,backdropFilter:r.isDarkMode?"blur(10px)":"none",border:r.isDarkMode?"1px solid rgba(255, 255, 255, 0.2)":"none"})),o=()=>{a.value=!0,sessionStorage.setItem(s,"true")};return e.onMounted(()=>{sessionStorage.getItem(s)==="true"&&(a.value=!0)}),(l,i)=>t.text&&!a.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["float-text-container",{"dark-mode":t.isDarkMode}])},[e.createElementVNode("span",{class:"float-text",style:e.normalizeStyle(n.value)},e.toDisplayString(t.text),5),e.createElementVNode("button",{class:e.normalizeClass(["float-text-close",{"dark-mode":t.isDarkMode}]),onClick:o}," × ",2)],2)):e.createCommentVNode("",!0)}}),y=["value"],h=e.defineComponent({__name:"ContactSelector",props:{contacts:{type:Array,required:!0},modelValue:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:r}){const a=t,s=e.ref(a.modelValue);e.watch(()=>a.modelValue,o=>{s.value=o});const n=o=>({email:"📧 Email",whatsapp:"📱 WhatsApp",telegram:"✈️ Telegram",phone:"📞 Teléfono",linkedin:"💼 LinkedIn"})[o]||o.charAt(0).toUpperCase()+o.slice(1);return(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["contact-selector",{"dark-mode":t.isDarkMode}])},[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),class:e.normalizeClass(["contact-select",{"dark-mode":t.isDarkMode}]),onChange:l[1]||(l[1]=i=>o.$emit("update:modelValue",s.value))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.contacts,i=>(e.openBlock(),e.createElementBlock("option",{key:i,value:i},e.toDisplayString(n(i)),9,y))),128))],34),[[e.vModelSelect,s.value]]),e.createElementVNode("div",{class:e.normalizeClass(["select-arrow",{"dark-mode":t.isDarkMode}])},l[2]||(l[2]=[e.createElementVNode("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none"},[e.createElementVNode("path",{d:"M1 1L6 6L11 1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)],2))}}),g={class:"message-input-container"},M=["maxlength"],x=["disabled"],p=e.defineComponent({__name:"ChatWindow",props:{contacts:{type:Array,required:!0},maxChars:{type:Number,default:200},isDarkMode:{type:Boolean,default:!1}},emits:["send"],setup(t,{emit:r}){const a=t,s=r,n=e.ref(a.contacts[0]),o=e.ref(""),l=()=>{o.value.trim()&&(s("send",{contact:n.value,message:o.value}),o.value="")};return(i,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["chat-window",{"dark-mode":t.isDarkMode}])},[t.contacts.length>1?(e.openBlock(),e.createBlock(h,{key:0,contacts:t.contacts,modelValue:n.value,"onUpdate:modelValue":[c[0]||(c[0]=m=>n.value=m),c[1]||(c[1]=m=>n.value=m)],isDarkMode:t.isDarkMode},null,8,["contacts","modelValue","isDarkMode"])):e.createCommentVNode("",!0),e.createElementVNode("div",g,[e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":c[2]||(c[2]=m=>o.value=m),maxlength:t.maxChars,class:e.normalizeClass(["chat-textarea",{"dark-mode":t.isDarkMode}]),placeholder:"Escribe tu mensaje...",rows:"3"},null,10,M),[[e.vModelText,o.value]]),e.createElementVNode("div",{class:e.normalizeClass(["char-counter",{"dark-mode":t.isDarkMode}])},e.toDisplayString(o.value.length)+"/"+e.toDisplayString(t.maxChars),3)]),e.createElementVNode("button",{class:e.normalizeClass(["chat-send",{"dark-mode":t.isDarkMode,disabled:!o.value.trim()}]),disabled:!o.value.trim(),onClick:l},c[3]||(c[3]=[e.createElementVNode("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[e.createElementVNode("path",{d:"M22 2L11 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e.createElementVNode("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),e.createTextVNode(" Enviar ")]),10,x)],2))}}),D={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},V=e.defineComponent({__name:"ContactButton",props:{label:{type:String,default:""},chatInWindow:{type:Boolean,default:!0},contacts:{type:Array,default:()=>["email"]},floatText:{type:String,default:""},top:{type:String,default:""},bottom:{type:String,default:"1.5rem"},left:{type:String,default:""},right:{type:String,default:"1.5rem"},mainColor:{type:String,default:"#3b82f6"},secondaryColor:{type:String,default:"#ffffff"},maxChars:{type:Number,default:200},darkMode:{type:Boolean,default:!1},autoDetectTheme:{type:Boolean,default:!0}},emits:["openContact","send"],setup(t,{emit:r}){const a=t,s=r,n=e.ref(!1),o=e.ref(a.darkMode),l=e.computed(()=>({top:a.top,bottom:a.bottom,left:a.left,right:a.right,position:"fixed",display:"flex",alignItems:"center",gap:"0.75rem",zIndex:9999})),i=e.computed(()=>({backgroundColor:o.value?"rgba(255, 255, 255, 0.1)":a.mainColor,color:o.value?"#ffffff":a.secondaryColor,backdropFilter:o.value?"blur(10px)":"none",border:o.value?"1px solid rgba(255, 255, 255, 0.2)":"none"})),c=()=>{a.chatInWindow?n.value=!n.value:s("openContact")},m=f=>{s("send",f),n.value=!1},C=()=>{if(a.autoDetectTheme){const f=window.matchMedia("(prefers-color-scheme: dark)").matches;o.value=f}else o.value=a.darkMode};return e.onMounted(()=>{C(),a.autoDetectTheme&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",C)}),(f,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["contact-button-wrapper",{"dark-mode":o.value}]),style:e.normalizeStyle(l.value)},[t.floatText?(e.openBlock(),e.createBlock(u,{key:0,text:t.floatText,mainColor:t.mainColor,secondaryColor:t.secondaryColor,isDarkMode:o.value},null,8,["text","mainColor","secondaryColor","isDarkMode"])):e.createCommentVNode("",!0),e.createElementVNode("button",{class:e.normalizeClass(["contact-button",{"contact-button-close":n.value,"dark-mode":o.value}]),style:e.normalizeStyle(i.value),onClick:c},[n.value?(e.openBlock(),e.createElementBlock("svg",D,k[1]||(k[1]=[e.createElementVNode("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):e.renderSlot(f.$slots,"default",{key:0},()=>[k[0]||(k[0]=e.createElementVNode("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},[e.createElementVNode("path",{d:"M7 8h10M7 12h6m-6 8l-4-4H3a1 1 0 01-1-1V5a1 1 0 011-1h18a1 1 0 011 1v10a1 1 0 01-1 1H9l-2 2z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])],6),n.value&&t.chatInWindow?(e.openBlock(),e.createBlock(p,{key:1,contacts:t.contacts,maxChars:t.maxChars,isDarkMode:o.value,onSend:m},null,8,["contacts","maxChars","isDarkMode"])):e.createCommentVNode("",!0)],6))}});d.ChatWindow=p,d.ContactButton=V,d.ContactSelector=h,d.FloatText=u,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
